# DragonSong_War
程序设计大作业塔防游戏

# 更新日志

# 2020.6.28
## 增加
- 防御塔以及敌人的不同阵营的图像，即龙敌人和人塔
- 第3至8关的地图、背景音乐等
- 第3及8关的全部关卡信息
- imp类：增加了关于界面的关于本游戏
- Soldier类：增加了新的敌人：尼德霍格。这种敌人有着极高的血量及伤害，但移动速度较低。

## 改动
- 进行了一定的美术升级，优化了部分语言表达

## 修复
- 修复了最后一个敌人走到终点时游戏无法结束的bug

## 其他
- 宣告本游戏编程结束

# 2020.6.20

## 增加
- Tower类
> 物理塔升级之后子弹具有散射功能（实现于Bullet类）
> 塔的拆除以及相应的神典石回收
- Soldier类：多类型的敌人及其多类型功能体现
> 增加了龙骑士的点击音效：擦大炮！擦大炮（chapter::mousereleaseevent()）
> 增加了暗黑骑士及其技能  暗影墙：没过一定时间提高护甲（Soldier::Arm()）说明：护甲值可提供物理免伤
> 增加了占星术士及其技能  福星：每过一定时间使半径200像素内的敌人中血量最低且最靠前的敌人增加20点生命值(Soldier::Heal())——对弱ai的理解之一：寻找满足条件的敌人
- chapter类
> 增加了失败界面
> 增加了纯虚函数virtual void gameover(int)用以关卡结算
- Bullet类
> 实现了魔法子弹、物理子弹、物理散射子弹的区别及各自功能（bool Bullet::ismagic, int Bullet::lv）
- 其他
> 对部分事件音效进行了配音
> 对部分功能进行了语音说明（“这个按钮没有用”）
> 完成了第一关以及第二关的地图、防御塔、敌人、背景音乐等的设置，保证了游戏难度随游戏进度不断增加
> 增加了我的对这个游戏倾注的血汗

## 改动
- Bullet类
> 将原本子弹逻辑改为为敌人被击杀后索敌的子弹会消失（chapter::draw()）
- Soldier类
> 调整了敌人的相关属性
- game类
> 增强了作弊模式的功能：防御塔伤害提高、初始神典石及上限提高、所有关卡全部开放
- chapter类
> 将成员void sing()改为纯虚函数
- 其他
> 补充和重写了部分析构函数（~C1(), ~button()等）
> 修改了关卡判断失败的逻辑（chapter::paintEvent(), chapter::draw()）
> 部分美术升级
> 将部分函数改为常函数（Qpoint Bullet::GetPos()，int Tower::GetLv()等）

## 修复
> 修复了关卡失败时的游戏崩溃问题
> 修复了占星术士奶人时的目标选择错乱问题
> 修复了点击防御塔时反馈错乱的问题(chapter::MouseReleaseEvent())
> 修复了敌人出现时的波次错乱问题
> 修复了关卡内无音乐的问题




# 2020.6.14

## 增加 
- Tower类
> 塔的物理和魔法类别以及相应图像
- Soldier类
> 增加出现时间与出现波次的概念
- chapter类
> 用以塔的建造与升级的神典石系统
> 游戏胜利或失败的判断
- game类
> 关卡进度
> 作弊模式

## 改动
- bullet类
> 美术升级
- Tower类
> 取消原本的DT与MT继承Tower类的方式，不再在此使用继承。转为二者都使用Tower类表现
> 将升级暂时改为点击后花费900-1100的神典石数目提高攻击力
- C1类
> 美术升级

## 修复
- 防御塔索敌时同时攻击多个对象的bug（Chapter::search()）
- 敌人血量出现负数的bug（chapter::draw()）
- 修复了部分图像的展示问题
- 修复了Tower无法被点击的问题（Tower::mousePressEvent() ,Chapter::mousePressEvent()）